# Гайд по тестированию Symancy

**Версия**: 0.5.0
**Дата**: 29 декабря 2025
**Время тестирования**: ~45-60 минут

---

## Что тестируем

Это полный гайд по тестированию всех функций приложения:

**Часть 1: Telegram-бот** (основные функции)
- Анализ фото кофейной гущи
- Чат с ассистентом
- Команды бота
- Система кредитов

**Часть 2: Омниканальность** (связь Telegram + Сайт)
- Вход через Telegram на сайте
- Общая история и баланс
- Чат на сайте

---

## Подготовка к тестированию

**Что понадобится:**
- Смартфон с Telegram
- Компьютер или планшет с браузером
- Фото кофейной чашки с гущей (можно из интернета)
- Интернет-соединение

**Ссылки:**
- Сайт: https://symancy.ru
- Telegram-бот: @coffeeveda_bot

---

# ЧАСТЬ 1: TELEGRAM-БОТ

---

## Тест 1.1: Первый запуск бота (Onboarding)

**Цель:** Проверить знакомство с ботом для нового пользователя

**Шаги:**

1. Найдите бот @coffeeveda_bot в Telegram
2. Нажмите **"Запустить"** или отправьте команду **/start**
3. Бот спросит ваше имя — ответьте любым именем
4. Выберите цели использования (появятся кнопки: карьера, отношения, здоровье и т.д.)
5. Выберите частоту уведомлений (ежедневно, еженедельно, никогда)
6. Дождитесь подтверждения завершения регистрации

**Ожидаемый результат:**
- [ ] Бот отвечает после /start
- [ ] Бот спрашивает имя
- [ ] Появляются кнопки для выбора целей
- [ ] Появляются кнопки для выбора уведомлений
- [ ] После завершения бот сообщает о бонусном кредите

**Примечание:** Если вы уже использовали бота ранее, этот тест можно пропустить — onboarding показывается только новым пользователям.

---

## Тест 1.2: Анализ фото кофейной гущи (Основная функция!)

**Цель:** Проверить главную функцию — анализ кофейной гущи

**Подготовка:** Найдите фото кофейной чашки с гущей. Можно:
- Сфотографировать свою чашку
- Найти фото в интернете по запросу "кофейная гуща"
- Использовать любую чашку с видимым рисунком на дне

**Шаги:**

1. Откройте бот @coffeeveda_bot в Telegram
2. Отправьте фото кофейной чашки (из галереи или сделайте новое)
3. Дождитесь ответа (обычно 10-30 секунд)
4. Прочитайте интерпретацию от Арины

**Ожидаемый результат:**
- [ ] Бот показывает сообщение "Смотрю в гущу..." или похожее
- [ ] Через 10-30 секунд приходит развёрнутый текст
- [ ] Текст содержит психологическую интерпретацию символов
- [ ] Текст написан от лица персонажа Арина (доброжелательный тон)

**Если что-то не работает:**
- Бот молчит более 1 минуты → Напишите /start и попробуйте снова
- "Не могу разглядеть гущу" → Попробуйте другое фото, более чёткое и светлое

---

## Тест 1.3: Чат с ботом (Follow-up вопросы)

**Цель:** Проверить общение с ботом после анализа

**Предварительно:** Выполните Тест 1.2 (анализ фото)

**Шаги:**

1. После получения анализа напишите вопрос, например:
   - "Расскажи подробнее про символ сердца"
   - "Что означает для меня этот анализ?"
   - "Какой совет ты можешь дать?"
2. Дождитесь ответа бота
3. Задайте ещё один уточняющий вопрос

**Ожидаемый результат:**
- [ ] Бот отвечает на вопросы
- [ ] Ответы связаны с предыдущим анализом (бот "помнит" контекст)
- [ ] Бот отвечает в образе Арины (психолог-консультант)
- [ ] Ответ приходит в течение 5-15 секунд

---

## Тест 1.4: Команды бота

**Цель:** Проверить работу команд

**Шаги:**

Отправьте команды по очереди и проверьте ответы:

1. **/help** — справка по боту
2. **/credits** или **/баланс** — проверка баланса кредитов
3. **/cassandra** — информация о премиум-анализе

**Ожидаемый результат:**
- [ ] /help показывает инструкции по использованию
- [ ] /credits показывает количество кредитов
- [ ] /cassandra объясняет, что это премиум-функция

---

## Тест 1.5: Проверка качества фото (Edge case)

**Цель:** Убедиться, что бот корректно обрабатывает плохие фото

**Шаги:**

1. Отправьте боту фото, которое НЕ является кофейной чашкой:
   - Фото стола без чашки
   - Очень тёмное/размытое фото
   - Фото пейзажа или чего-то случайного
2. Посмотрите на реакцию бота

**Ожидаемый результат:**
- [ ] Бот вежливо сообщает, что не может распознать гущу
- [ ] Кредит НЕ списывается (если был)
- [ ] Бот предлагает попробовать с другим фото

---

## Тест 1.6: Система кредитов

**Цель:** Проверить работу системы кредитов

**Шаги:**

1. Отправьте команду **/credits** — запомните баланс
2. Отправьте фото для анализа (Тест 1.2)
3. После получения анализа снова проверьте **/credits**

**Ожидаемый результат:**
- [ ] Баланс уменьшился на 1 после успешного анализа
- [ ] Если кредитов было 0 — бот предложит пополнить баланс

---

# ЧАСТЬ 2: ОМНИКАНАЛЬНОСТЬ (Telegram + Сайт)

---

## Тест 2.1: Вход через Telegram на сайте

**Цель:** Проверить авторизацию через Telegram

**Шаги:**

1. Откройте сайт https://symancy.ru
2. Найдите кнопку **"Войти через Telegram"** (синяя кнопка с иконкой Telegram)
3. Нажмите на неё
4. В появившемся окне нажмите **"Подтвердить"** (или "Log in")
5. Вы должны автоматически войти на сайт

**Ожидаемый результат:**
- [ ] Кнопка "Войти через Telegram" отображается
- [ ] После подтверждения вы вошли на сайт
- [ ] Видно ваше имя или аватар из Telegram
- [ ] Вход занял менее 10 секунд

**Если что-то не работает:**
- Кнопка не появляется → Обновите страницу (Ctrl+F5)
- Ошибка при входе → Сделайте скриншот ошибки

---

## Тест 2.2: Кнопка "Открыть сайт" в Telegram боте

**Цель:** Проверить быстрый доступ к сайту из бота

**Шаги:**

1. Откройте Telegram-бот @coffeeveda_bot
2. Внизу слева от поля ввода найдите кнопку меню (три полоски или иконка)
3. Нажмите на неё
4. Выберите **"Открыть сайт"**
5. Должен открыться сайт внутри Telegram

**Ожидаемый результат:**
- [ ] Кнопка меню видна в боте
- [ ] Пункт "Открыть сайт" есть в меню
- [ ] Сайт открывается внутри Telegram (не в браузере)
- [ ] Вы автоматически авторизованы на сайте

---

## Тест 2.3: Общая история сообщений

**Цель:** Проверить синхронизацию истории между Telegram и сайтом

**Шаги:**

1. Отправьте любое сообщение боту в Telegram (например, "Привет")
2. Дождитесь ответа бота
3. Теперь откройте сайт https://symancy.ru
4. Войдите через Telegram (если не вошли)
5. Откройте раздел **"Чат"** или **"История"**
6. Найдите сообщение, которое отправляли в Telegram

**Ожидаемый результат:**
- [ ] Сообщение из Telegram видно на сайте
- [ ] Ответ бота тоже виден
- [ ] Время сообщений совпадает

**Дополнительный тест (в обратную сторону):**
1. Отправьте сообщение через сайт
2. Проверьте, появилось ли оно в истории в Telegram

---

## Тест 2.4: Единый баланс кредитов

**Цель:** Проверить синхронизацию баланса между каналами

**Шаги:**

1. Откройте Telegram-бот @coffeeveda_bot
2. Отправьте команду **/credits** или **/баланс**
3. Запомните количество кредитов
4. Откройте сайт https://symancy.ru
5. Найдите информацию о балансе (обычно в профиле или в шапке)
6. Сравните с балансом в Telegram

**Ожидаемый результат:**
- [ ] Баланс в Telegram и на сайте одинаковый
- [ ] Если потратить кредит на сайте — баланс в Telegram тоже уменьшится

---

## Тест 2.5: Команда /link для привязки аккаунта

**Цель:** Проверить альтернативный способ привязки аккаунтов

**Шаги:**

1. Откройте Telegram-бот @coffeeveda_bot
2. Отправьте команду **/link**
3. Бот должен прислать ссылку
4. Скопируйте ссылку и откройте в браузере
5. Войдите на сайт (если не вошли)
6. Должно появиться подтверждение привязки

**Ожидаемый результат:**
- [ ] Команда /link работает
- [ ] Бот присылает ссылку
- [ ] Ссылка открывается в браузере
- [ ] После перехода аккаунты связаны

**Важно:** Ссылка действует **10 минут**. Если просрочили — запросите новую.

---

## Тест 2.6: Чат в реальном времени на сайте

**Цель:** Проверить, что чат работает без перезагрузки страницы

**Шаги:**

1. Откройте сайт https://symancy.ru
2. Войдите через Telegram
3. Перейдите в раздел **"Чат"**
4. Напишите сообщение и отправьте
5. Дождитесь ответа (обычно 5-20 секунд)

**Ожидаемый результат:**
- [ ] Поле для ввода сообщения доступно
- [ ] Сообщение отправляется при нажатии кнопки или Enter
- [ ] Виден индикатор загрузки ("печатает..." или крутилка)
- [ ] Ответ появляется в том же окне без перезагрузки страницы

---

# ИТОГОВЫЙ ЧЕК-ЛИСТ

После всех тестов заполните:

## Часть 1: Telegram-бот

| Тест | Результат |
|------|-----------|
| 1.1 Onboarding (первый запуск) | ✅ / ❌ / Пропущен |
| 1.2 Анализ фото кофейной гущи | ✅ / ❌ |
| 1.3 Чат с ботом | ✅ / ❌ |
| 1.4 Команды бота (/help, /credits) | ✅ / ❌ |
| 1.5 Обработка плохих фото | ✅ / ❌ |
| 1.6 Система кредитов | ✅ / ❌ |

## Часть 2: Омниканальность

| Тест | Результат |
|------|-----------|
| 2.1 Вход через Telegram на сайте | ✅ / ❌ |
| 2.2 Кнопка "Открыть сайт" в боте | ✅ / ❌ |
| 2.3 Общая история сообщений | ✅ / ❌ |
| 2.4 Единый баланс кредитов | ✅ / ❌ |
| 2.5 Команда /link | ✅ / ❌ |
| 2.6 Чат в реальном времени | ✅ / ❌ |

---

## Если что-то не работает

**Что сообщить разработчикам:**

1. **Номер теста** (например, "Тест 1.2")
2. **Что именно** не работает (конкретно)
3. **Скриншот** ошибки (если есть)
4. **Устройство** (iPhone, Android, компьютер)
5. **Браузер** (Chrome, Safari, Firefox)

**Куда сообщить:**
- Telegram: @maslennikov_ig

---

## Дополнительные тесты (если есть время)

### Тест D.1: Смена языка
1. Найдите переключатель языка на сайте
2. Переключите на English
3. Проверьте, что интерфейс изменился
4. Переключите на 中文 (китайский)
5. Проверьте, что интерфейс изменился

### Тест D.2: Тёмная тема
1. Найдите переключатель темы (солнце/луна)
2. Переключите на тёмную тему
3. Проверьте, что цвета изменились
4. Переключите обратно на светлую

### Тест D.3: Мобильная версия сайта
1. Откройте сайт на телефоне в браузере (не в Telegram)
2. Проверьте, что всё читается и нажимается
3. Попробуйте войти через Telegram
4. Попробуйте отправить сообщение в чат

### Тест D.4: Премиум-анализ Cassandra
1. Если есть премиум-кредиты, отправьте фото с подписью "cassandra"
2. Или сначала отправьте команду /cassandra, затем фото
3. Проверьте, что анализ отличается от обычного (более мистический стиль)

---

## Часто задаваемые вопросы

**Q: Не вижу кнопку "Войти через Telegram"**
A: Обновите страницу. Если не помогло — попробуйте другой браузер.

**Q: При входе через Telegram ничего не происходит**
A: Проверьте, что у вас открыт Telegram на этом же устройстве.

**Q: Баланс на сайте и в Telegram разный**
A: Подождите минуту и обновите страницу. Синхронизация может занять время.

**Q: Ссылка от /link не работает**
A: Ссылка действует 10 минут. Запросите новую командой /link.

**Q: Чат не отвечает**
A: Подождите 30 секунд. Если не отвечает — возможно, проблема на сервере.

**Q: Бот говорит "Не могу разглядеть гущу"**
A: Попробуйте другое фото. Нужно чёткое, хорошо освещённое фото чашки с кофейной гущей.

**Q: Как получить больше кредитов?**
A: Пока система оплаты в разработке. Обратитесь к @maslennikov_ig для тестовых кредитов.

---

*Спасибо за тестирование!*
