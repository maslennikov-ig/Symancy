# Гайд по тестированию Symancy

**Версия**: 0.6.0
**Дата**: 29 декабря 2025
**Время тестирования**: ~60-90 минут

---

## Что тестируем

Это полный гайд по тестированию всех функций приложения:

**Часть 1: Telegram-бот** (основные функции)
- Анализ фото кофейной гущи (Арина)
- Премиум-анализ (Кассандра)
- Чат с ассистентом
- Onboarding новых пользователей
- Система кредитов
- Команды бота

**Часть 2: Омниканальность** (связь Telegram + Сайт)
- Вход через Telegram на сайте
- Общая история и баланс
- Чат на сайте

---

## Подготовка к тестированию

**Что понадобится:**
- Смартфон с Telegram
- Компьютер или планшет с браузером
- **2-3 фото кофейной чашки с гущей** (можно из интернета)
- **1 плохое фото** (размытое, тёмное или не чашка) для теста ошибок
- Интернет-соединение

**Ссылки:**
- Сайт: https://symancy.ru
- Telegram-бот: @coffeeveda_bot

**Важно перед началом:**
- Узнайте у разработчика, есть ли у вас тестовые кредиты
- Если нет — попросите добавить (нужно минимум 2-3 кредита для полного тестирования)

---

# ЧАСТЬ 1: TELEGRAM-БОТ

---

## Тест 1.1: Первый запуск бота (Onboarding)

**Цель:** Проверить знакомство с ботом для нового пользователя

**Важно:** Этот тест работает только для НОВЫХ пользователей. Если вы уже использовали бота — попросите разработчика сбросить ваш аккаунт или используйте другой Telegram-аккаунт.

**Шаги:**

1. Найдите бот @coffeeveda_bot в Telegram
2. Нажмите **"Запустить"** или отправьте команду **/start**
3. Бот должен спросить: **"Как тебя зовут?"**
4. Ответьте любым именем (например, "Тестер")
5. Появятся кнопки для выбора целей — нажмите на любые (карьера, отношения, здоровье и т.д.)
6. Появятся кнопки для выбора частоты уведомлений — выберите любой вариант
7. Дождитесь подтверждения завершения регистрации

**Ожидаемый результат:**
- [ ] Бот отвечает после /start приветствием
- [ ] Бот спрашивает имя
- [ ] После ввода имени появляются **кнопки** для выбора целей (не текст!)
- [ ] После выбора целей появляются кнопки выбора уведомлений
- [ ] После завершения бот сообщает о **бонусном кредите**
- [ ] Весь процесс занял менее 2 минут

**Если вы уже использовали бота:**
Пропустите этот тест или попросите разработчика сбросить аккаунт.

---

## Тест 1.2: Анализ фото кофейной гущи (Основная функция!)

**Цель:** Проверить главную функцию — анализ кофейной гущи от Арины

**Подготовка:** Найдите фото кофейной чашки с гущей:
- Сфотографируйте свою чашку после кофе
- Или найдите в интернете по запросу "кофейная гуща гадание"
- Важно: на фото должны быть видны узоры/рисунки в гуще

**Шаги:**

1. Откройте бот @coffeeveda_bot в Telegram
2. Убедитесь, что у вас есть кредит (команда /credits)
3. Отправьте фото кофейной чашки (из галереи или сделайте новое)
4. Дождитесь ответа

**Ожидаемый результат:**
- [ ] Бот СРАЗУ показывает сообщение **"Смотрю в гущу..."** или похожее
- [ ] Через **10-30 секунд** приходит развёрнутый текст анализа
- [ ] Текст содержит **конкретные символы** ("Вижу сердце...", "Здесь птица..." и т.д.)
- [ ] Текст содержит **психологическую интерпретацию** этих символов
- [ ] Текст написан от лица персонажа **Арина** (доброжелательный, тёплый тон)
- [ ] Ответ хорошо отформатирован (абзацы, возможно эмодзи)

**Запишите время ожидания:** _____ секунд

---

## Тест 1.3: Отправка нескольких фото подряд (Защита от спама)

**Цель:** Проверить, что бот корректно обрабатывает ситуацию, когда пользователь отправляет несколько фото, пока предыдущее ещё обрабатывается

**Шаги:**

1. Отправьте фото кофейной чашки
2. **Сразу же** (в течение 5 секунд, пока бот ещё обрабатывает) отправьте ещё одно фото
3. Посмотрите на реакцию бота

**Ожидаемый результат:**
- [ ] На первое фото бот отвечает "Смотрю в гущу..." и потом даёт анализ
- [ ] На второе фото бот отвечает что-то вроде **"Я ещё читаю твою предыдущую чашку..."**
- [ ] Второе фото НЕ обрабатывается (кредит не списывается дважды)

---

## Тест 1.4: Чат с ботом (Follow-up вопросы)

**Цель:** Проверить, что бот помнит контекст и отвечает на уточняющие вопросы

**Предварительно:** Выполните Тест 1.2 (получите анализ фото)

**Шаги:**

1. После получения анализа напишите вопрос, например:
   - "Расскажи подробнее про символ, который ты увидела"
   - "Что это означает для моих отношений?"
   - "Какой совет ты можешь дать на основе этого?"
2. Дождитесь ответа бота
3. Задайте ещё один уточняющий вопрос
4. Задайте вопрос на другую тему, например "Как дела?"

**Ожидаемый результат:**
- [ ] Бот отвечает на вопросы в течение **5-15 секунд**
- [ ] Ответы **связаны с предыдущим анализом** (бот "помнит" что он увидел)
- [ ] Бот отвечает в образе **Арины** (тёплый, психологический стиль)
- [ ] На общие вопросы бот тоже отвечает, но в своём стиле

---

## Тест 1.5: Команды бота

**Цель:** Проверить работу всех команд

**Шаги:**

Отправьте команды по очереди и проверьте ответы:

1. **/help** — справка по боту
2. **/credits** — проверка баланса кредитов
3. **/start** — повторный запуск (для существующего пользователя)
4. **/cassandra** — информация о премиум-анализе

**Ожидаемый результат:**
- [ ] **/help** показывает понятные инструкции по использованию
- [ ] **/credits** показывает текущее количество кредитов (число)
- [ ] **/start** для существующего пользователя НЕ запускает onboarding заново
- [ ] **/cassandra** объясняет, что это премиум-функция и как её использовать

---

## Тест 1.6: Премиум-анализ от Кассандры

**Цель:** Проверить премиум-анализ в мистическом стиле

**Важно:** Для этого теста нужны **cassandra-кредиты** (отдельный тип). Уточните у разработчика, есть ли они у вас.

**Способ 1 — через caption:**

1. Выберите фото кофейной чашки
2. При отправке добавьте **подпись "cassandra"** или **"premium"**
3. Дождитесь ответа

**Способ 2 — через команду:**

1. Отправьте команду **/cassandra**
2. Бот подтвердит, что следующее фото будет премиум-анализом
3. Отправьте фото кофейной чашки
4. Дождитесь ответа

**Ожидаемый результат:**
- [ ] Анализ приходит от персонажа **Кассандра** (не Арина!)
- [ ] Стиль **мистический, эзотерический** (таро, астрология, предсказания)
- [ ] Анализ более **глубокий и детальный** чем обычный
- [ ] Списался **cassandra-кредит**, а не обычный

**Если нет cassandra-кредитов:**
- [ ] Бот сообщает, что нужно приобрести премиум-пакет
- [ ] Показывает информацию о покупке

---

## Тест 1.7: Проверка качества фото (Edge case)

**Цель:** Убедиться, что бот корректно обрабатывает плохие фото и не списывает кредит

**Шаги:**

1. Запомните текущий баланс кредитов (/credits)
2. Отправьте боту **плохое фото**:
   - Очень тёмное или размытое фото
   - Фото стола без чашки
   - Фото пейзажа или лица
   - Фото пустой чашки без гущи
3. Посмотрите на реакцию бота
4. Проверьте баланс кредитов снова (/credits)

**Ожидаемый результат:**
- [ ] Бот вежливо сообщает, что не может распознать гущу
- [ ] Сообщение типа **"Не могу разглядеть гущу. Сделай фото ближе/светлее"**
- [ ] Кредит **НЕ списался** (баланс остался тем же)
- [ ] Бот предлагает попробовать с другим фото

---

## Тест 1.8: Отсутствие кредитов

**Цель:** Проверить поведение бота, когда у пользователя нет кредитов

**Важно:** Для этого теста нужно израсходовать все кредиты или попросить разработчика обнулить баланс.

**Шаги:**

1. Убедитесь, что баланс кредитов = 0 (/credits)
2. Отправьте фото кофейной чашки
3. Посмотрите на реакцию бота

**Ожидаемый результат:**
- [ ] Бот **НЕ начинает анализ**
- [ ] Бот сообщает, что кредиты закончились
- [ ] Показывается **предложение пополнить баланс**
- [ ] Есть **кнопка для перехода к оплате** (или информация как купить)

**Если не можете обнулить кредиты:** Пропустите тест, отметьте как "Не проверено".

---

## Тест 1.9: Система кредитов (Списание)

**Цель:** Проверить, что кредиты списываются корректно

**Шаги:**

1. Отправьте команду **/credits** — запишите баланс: _____
2. Отправьте **качественное** фото для анализа
3. Дождитесь полного ответа с интерпретацией
4. Снова проверьте **/credits** — запишите баланс: _____

**Ожидаемый результат:**
- [ ] Баланс уменьшился **ровно на 1** после успешного анализа
- [ ] Кредит списался **только после** получения ответа (не в момент отправки фото)

---

# ЧАСТЬ 2: ОМНИКАНАЛЬНОСТЬ (Telegram + Сайт)

---

## Тест 2.1: Вход через Telegram на сайте

**Цель:** Проверить авторизацию через Telegram

**Шаги:**

1. Откройте сайт https://symancy.ru в браузере
2. Найдите кнопку **"Войти через Telegram"** (синяя кнопка с иконкой Telegram)
3. Нажмите на неё
4. В появившемся окне/виджете нажмите **"Подтвердить"** (или "Log in" / "Войти")
5. Дождитесь входа на сайт

**Ожидаемый результат:**
- [ ] Кнопка "Войти через Telegram" видна и кликабельна
- [ ] Появляется виджет Telegram для подтверждения
- [ ] После подтверждения вы вошли на сайт
- [ ] Видно **ваше имя или аватар** из Telegram
- [ ] Вход занял менее **10 секунд**

**Если что-то не работает:**
- Кнопка не появляется → Обновите страницу (Ctrl+F5 или Cmd+Shift+R)
- Виджет не открывается → Проверьте, не блокирует ли браузер всплывающие окна
- Ошибка при входе → Сделайте скриншот

---

## Тест 2.2: Кнопка "Открыть сайт" в Telegram боте

**Цель:** Проверить быстрый доступ к сайту из бота (Telegram WebApp)

**Шаги:**

1. Откройте Telegram-бот @coffeeveda_bot
2. Внизу слева от поля ввода найдите **кнопку меню** (три полоски ☰ или специальная иконка)
3. Нажмите на неё
4. Выберите пункт **"Открыть сайт"** или **"Open Chat"**
5. Должен открыться сайт **внутри Telegram** (не в браузере!)

**Ожидаемый результат:**
- [ ] Кнопка меню видна в боте
- [ ] Пункт "Открыть сайт" есть в меню
- [ ] Сайт открывается **внутри Telegram** как Mini App
- [ ] Вы **автоматически авторизованы** (без повторного входа)
- [ ] Видно ваше имя/аватар

---

## Тест 2.3: Общая история сообщений

**Цель:** Проверить, что история чата синхронизируется между Telegram и сайтом

**Шаги:**

1. В **Telegram** отправьте боту сообщение (например, "Тестовое сообщение для проверки синхронизации")
2. Дождитесь ответа бота
3. Откройте **сайт** https://symancy.ru
4. Войдите через Telegram (если не вошли)
5. Найдите раздел **"Чат"** или **"История"**
6. Поищите сообщение, которое вы отправили в Telegram

**Ожидаемый результат:**
- [ ] Сообщение из Telegram **видно на сайте**
- [ ] Ответ бота тоже виден
- [ ] Время сообщений **совпадает**
- [ ] Порядок сообщений правильный

**Тест в обратную сторону:**

1. Отправьте сообщение через **сайт**
2. Откройте **Telegram** и напишите боту что-нибудь
3. Проверьте, видно ли в ответах бота, что он помнит контекст с сайта

- [ ] Бот помнит контекст сообщений с сайта

---

## Тест 2.4: Единый баланс кредитов

**Цель:** Проверить, что баланс кредитов одинаковый везде

**Шаги:**

1. В **Telegram** отправьте команду **/credits** — запишите баланс: _____
2. Откройте **сайт** https://symancy.ru
3. Найдите информацию о балансе (обычно в профиле, шапке или рядом с чатом)
4. Сравните баланс

**Ожидаемый результат:**
- [ ] Баланс в Telegram и на сайте **одинаковый**

**Дополнительная проверка (если есть кредиты):**

1. Потратьте кредит на сайте (отправьте фото через чат на сайте)
2. Проверьте баланс в Telegram (/credits)

- [ ] Баланс в Telegram **уменьшился** после траты на сайте

---

## Тест 2.5: Команда /link для привязки аккаунта

**Цель:** Проверить альтернативный способ привязки Telegram и веб-аккаунта

**Шаги:**

1. В **Telegram** отправьте команду **/link**
2. Бот должен прислать **уникальную ссылку**
3. Скопируйте ссылку
4. Откройте её в **браузере**
5. Войдите на сайт (если не вошли)
6. Должно появиться подтверждение привязки

**Ожидаемый результат:**
- [ ] Команда /link работает
- [ ] Бот присылает **ссылку**
- [ ] Ссылка открывается в браузере
- [ ] После перехода появляется **подтверждение**, что аккаунты связаны

**Важно:** Ссылка действует **10 минут**. Если просрочили — запросите новую командой /link.

---

## Тест 2.6: Чат в реальном времени на сайте

**Цель:** Проверить, что чат на сайте работает без перезагрузки страницы

**Шаги:**

1. Откройте сайт https://symancy.ru
2. Войдите через Telegram
3. Перейдите в раздел **"Чат"**
4. Напишите сообщение (например, "Привет, как дела?") и отправьте
5. **НЕ перезагружайте страницу** — ждите ответа

**Ожидаемый результат:**
- [ ] Поле для ввода сообщения доступно
- [ ] Сообщение отправляется кнопкой или клавишей Enter
- [ ] Виден **индикатор загрузки** ("печатает...", три точки или крутилка)
- [ ] Ответ появляется **в том же окне** без перезагрузки страницы
- [ ] Ответ приходит в течение **5-20 секунд**

---

# ЧАСТЬ 3: ДОПОЛНИТЕЛЬНЫЕ ФУНКЦИИ

---

## Тест 3.1: Смена языка на сайте

**Шаги:**
1. Найдите переключатель языка на сайте (обычно в шапке или футере)
2. Переключите на **English**
3. Проверьте, что интерфейс изменился на английский
4. Переключите на **中文** (китайский)
5. Проверьте, что интерфейс изменился на китайский
6. Верните **Русский**

**Ожидаемый результат:**
- [ ] Переключатель языка есть и работает
- [ ] Английский интерфейс корректный
- [ ] Китайский интерфейс корректный
- [ ] Русский восстанавливается

---

## Тест 3.2: Тёмная тема на сайте

**Шаги:**
1. Найдите переключатель темы (обычно иконка солнца/луны)
2. Переключите на **тёмную тему**
3. Проверьте, что цвета изменились (тёмный фон, светлый текст)
4. Переключите обратно на **светлую тему**

**Ожидаемый результат:**
- [ ] Переключатель темы есть
- [ ] Тёмная тема применяется корректно (всё читабельно)
- [ ] Светлая тема восстанавливается

---

## Тест 3.3: Мобильная версия сайта

**Шаги:**
1. Откройте сайт **на телефоне в браузере** (Safari, Chrome — не в Telegram!)
2. Проверьте, что всё читается и кнопки нажимаются
3. Попробуйте войти через Telegram
4. Попробуйте отправить сообщение в чат

**Ожидаемый результат:**
- [ ] Сайт адаптирован под мобильный экран
- [ ] Текст читабелен, кнопки нажимаются
- [ ] Вход через Telegram работает на телефоне
- [ ] Чат работает на телефоне

---

# ИТОГОВЫЙ ЧЕК-ЛИСТ

После всех тестов заполните таблицы:

## Часть 1: Telegram-бот

| № | Тест | Результат | Комментарий |
|---|------|-----------|-------------|
| 1.1 | Onboarding (первый запуск) | ✅ / ❌ / Пропущен | |
| 1.2 | Анализ фото (Арина) | ✅ / ❌ | Время: ___ сек |
| 1.3 | Несколько фото подряд | ✅ / ❌ | |
| 1.4 | Чат с ботом | ✅ / ❌ | |
| 1.5 | Команды бота | ✅ / ❌ | |
| 1.6 | Премиум-анализ (Кассандра) | ✅ / ❌ / Пропущен | |
| 1.7 | Обработка плохих фото | ✅ / ❌ | |
| 1.8 | Нет кредитов | ✅ / ❌ / Пропущен | |
| 1.9 | Списание кредитов | ✅ / ❌ | |

## Часть 2: Омниканальность

| № | Тест | Результат | Комментарий |
|---|------|-----------|-------------|
| 2.1 | Вход через Telegram на сайте | ✅ / ❌ | |
| 2.2 | Кнопка "Открыть сайт" в боте | ✅ / ❌ | |
| 2.3 | Общая история сообщений | ✅ / ❌ | |
| 2.4 | Единый баланс кредитов | ✅ / ❌ | |
| 2.5 | Команда /link | ✅ / ❌ | |
| 2.6 | Чат в реальном времени | ✅ / ❌ | |

## Часть 3: Дополнительные функции

| № | Тест | Результат | Комментарий |
|---|------|-----------|-------------|
| 3.1 | Смена языка | ✅ / ❌ | |
| 3.2 | Тёмная тема | ✅ / ❌ | |
| 3.3 | Мобильная версия | ✅ / ❌ | |

---

## Общая оценка

**Дата тестирования:** ________________

**Тестировщик:** ________________

**Устройства:**
- Телефон: ________________ (модель)
- Браузер: ________________ (Chrome/Safari/Firefox)

**Общее впечатление (1-5):** ⭐⭐⭐⭐⭐

**Главные проблемы (если есть):**
1. ________________________________
2. ________________________________
3. ________________________________

---

## Если что-то не работает

**Что сообщить разработчикам:**

1. **Номер теста** (например, "Тест 1.2")
2. **Что именно** не работает (конкретно, своими словами)
3. **Скриншот или видео** ошибки
4. **Устройство**: iPhone/Android/компьютер, модель
5. **Браузер**: Chrome/Safari/Firefox, версия
6. **Время**: когда тестировали

**Куда сообщить:**
- Telegram: @maslennikov_ig

---

## Часто задаваемые вопросы

**Q: Не вижу кнопку "Войти через Telegram"**
A: Обновите страницу (Ctrl+F5). Если не помогло — попробуйте другой браузер.

**Q: При входе через Telegram ничего не происходит**
A: Проверьте, что Telegram открыт на этом же устройстве. На компьютере должен быть установлен Telegram Desktop.

**Q: Баланс на сайте и в Telegram разный**
A: Подождите минуту и обновите страницу. Синхронизация может занять время.

**Q: Ссылка от /link не работает**
A: Ссылка действует 10 минут. Запросите новую командой /link.

**Q: Чат не отвечает**
A: Подождите 30-60 секунд. Если не отвечает — возможно, проблема на сервере. Сообщите разработчику.

**Q: Бот говорит "Не могу разглядеть гущу"**
A: Это нормально для плохих фото! Попробуйте чёткое, хорошо освещённое фото чашки с видимой кофейной гущей.

**Q: Как получить больше кредитов для тестирования?**
A: Обратитесь к @maslennikov_ig — он добавит тестовые кредиты.

**Q: Onboarding не запускается при /start**
A: Onboarding показывается только новым пользователям. Если вы уже проходили его — попросите разработчика сбросить ваш аккаунт.

**Q: Что такое "cassandra-кредиты"?**
A: Это отдельный тип кредитов для премиум-анализа от Кассандры. Они отличаются от обычных кредитов.

---

## Информация о проактивных сообщениях

Бот умеет отправлять сообщения сам, без вашего запроса:

- **Напоминание неактивным**: Если вы не пользовались ботом 7 дней — он напишет "Давно не виделись!"
- **Еженедельный check-in**: По понедельникам бот может спросить "Как дела с рекомендациями?"
- **Ежедневные предсказания**: Если вы подписались на них в onboarding — будут приходить утром

**Эти функции сложно протестировать вручную** — они работают по расписанию. Если хотите проверить — сообщите разработчику, он запустит их принудительно.

---

*Спасибо за тестирование! Ваша обратная связь очень важна для улучшения продукта.*
