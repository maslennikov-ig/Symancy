# Тестирование Админ-Панели

**Адрес**: https://symancy.ru/admin

---

## Вход в систему

### Данные для входа

- **Email**: maslennikov.ig@gmail.com
- **Пароль**: ваш пароль от Supabase

### Что проверить

- [ ] Открыть страницу входа
- [ ] Ввести email и пароль
- [ ] Нажать "Войти"
- [ ] Убедиться, что открылась главная страница админки

---

## Главная страница (Dashboard)

После входа вы попадаете на главную страницу.

### Что проверить

- [ ] Отображаются 4 карточки со статистикой:
  - Всего пользователей
  - Всего анализов
  - Активны сегодня
  - Общая выручка

- [ ] Суммы отображаются в рублях с правильным форматом

- [ ] Внизу есть 4 быстрые ссылки:
  - Настройки системы
  - Пользователи
  - Сообщения
  - Расходы

- [ ] При клике на ссылку происходит переход на соответствующую страницу

---

## Пользователи

### Список пользователей

- [ ] Открыть раздел "Пользователи"
- [ ] Видна таблица со столбцами:
  - Telegram ID
  - Имя
  - Кредиты (цветные бейджи)
  - Последняя активность

### Поиск

- [ ] Ввести часть имени или Telegram ID в поле поиска
- [ ] Убедиться, что список фильтруется
- [ ] Очистить поиск — показываются все пользователи

### Сортировка

- [ ] Попробовать сортировку "По последней активности"
- [ ] Попробовать сортировку "По дате регистрации"

### Экспорт

- [ ] Нажать кнопку "Экспорт CSV"
- [ ] Убедиться, что скачивается файл
- [ ] Открыть файл в Excel — данные корректные, русские буквы читаются

### Переход к пользователю

- [ ] Кликнуть на строку с пользователем
- [ ] Открывается страница с подробной информацией

---

## Карточка пользователя

### Информация

- [ ] Отображается вся информация о пользователе:
  - Telegram ID
  - Имя
  - Язык
  - Дата регистрации
  - Последняя активность
  - Статус онбординга
  - Статус блокировки

### Кредиты

- [ ] Видны текущие кредиты (Basic, Pro, Cassandra)
- [ ] Кредиты показаны цветными бейджами

### Изменение кредитов

- [ ] Ввести число в поле "Basic" (например, +10)
- [ ] Ввести причину изменения
- [ ] Нажать "Сохранить"
- [ ] Убедиться, что кредиты обновились СРАЗУ (без ожидания)
- [ ] Появляется зелёное уведомление об успехе

### Проверка ограничений

- [ ] Попробовать ввести больше 1000 для Basic — должна появиться ошибка
- [ ] Попробовать ввести больше 100 для Pro — должна появиться ошибка
- [ ] Попробовать ввести больше 50 для Cassandra — должна появиться ошибка

### История

- [ ] Внизу страницы видны последние сообщения пользователя
- [ ] Видны последние анализы пользователя

---

## Сообщения

### Список сообщений

- [ ] Открыть раздел "Сообщения"
- [ ] Видна таблица с сообщениями:
  - Дата/время
  - Роль (Пользователь / Ассистент)
  - Текст сообщения
  - Тип

### Фильтры

- [ ] Отфильтровать по роли "user"
- [ ] Отфильтровать по роли "assistant"
- [ ] Фильтры работают вместе

### Раскрытие сообщения

- [ ] Кликнуть на строку с сообщением
- [ ] Полный текст раскрывается снизу
- [ ] Кликнуть ещё раз — сворачивается

### Постраничная навигация

- [ ] Если сообщений много, попробовать перейти на следующую страницу
- [ ] Вернуться на предыдущую страницу

---

## Настройки системы

### Список настроек

- [ ] Открыть раздел "Настройки системы"
- [ ] Видна таблица с настройками:
  - Ключ
  - Значение
  - Описание
  - Дата изменения

### Редактирование

- [ ] Кликнуть на строку с настройкой
- [ ] Открывается окно редактирования
- [ ] Изменить значение (это JSON)
- [ ] Нажать "Сохранить"
- [ ] Окно закрывается, таблица обновляется

### Проверка ошибок

- [ ] Открыть настройку
- [ ] Ввести некорректный JSON (например: `{broken}`)
- [ ] Появляется ошибка "Invalid JSON"
- [ ] Кнопка "Сохранить" недоступна

---

## Расходы на LLM

### Статистика

- [ ] Открыть раздел "Расходы"
- [ ] Видны карточки:
  - Всего запросов
  - Всего токенов
  - Примерная стоимость (в долларах)

### Выбор периода

- [ ] Выбрать "Последние 7 дней"
- [ ] Данные обновляются
- [ ] Выбрать "Последние 30 дней"
- [ ] Данные обновляются

### Графики

- [ ] Отображается график "Запросы по моделям"
- [ ] Отображается график "Токены по времени"
- [ ] При наведении на график показываются подсказки

### Экспорт

- [ ] Нажать "Экспорт CSV"
- [ ] Скачивается файл с данными

---

## Состояния пользователей

### Список

- [ ] Открыть раздел "Состояния"
- [ ] Видна таблица:
  - Telegram ID
  - Шаг онбординга
  - Дата обновления
  - Статус
  - Действия

### Застрявшие пользователи

- [ ] Пользователи без активности >24ч отмечены красным бейджем "Застрял"

### Сброс состояния

- [ ] Нажать кнопку "Сбросить" у пользователя
- [ ] Появляется окно подтверждения
- [ ] Подтвердить сброс
- [ ] Появляется уведомление об успехе
- [ ] Состояние пользователя сбрасывается

---

## Мобильная версия

Откройте сайт на телефоне или сузьте окно браузера.

### Что проверить

- [ ] Боковое меню скрыто
- [ ] В левом верхнем углу есть кнопка-меню (три полоски)
- [ ] Нажать на неё — меню выезжает слева
- [ ] Нажать вне меню — оно закрывается
- [ ] Выбрать пункт меню — переход на страницу, меню закрывается
- [ ] Все кнопки достаточно большие для нажатия пальцем

---

## Смена языка

Админ-панель поддерживает 3 языка: русский, английский, китайский.

### Проверка русского

- [ ] По умолчанию интерфейс на русском
- [ ] Все надписи читаемые

### Проверка английского

- [ ] Откройте консоль браузера (F12)
- [ ] Введите: `localStorage.setItem('admin-language', 'en')`
- [ ] Обновите страницу
- [ ] Интерфейс на английском

### Проверка китайского

- [ ] В консоли: `localStorage.setItem('admin-language', 'zh')`
- [ ] Обновите страницу
- [ ] Интерфейс на китайском

---

## Тёмная тема

- [ ] Если на сайте есть переключатель темы, переключить на тёмную
- [ ] Все страницы отображаются корректно
- [ ] Текст читаемый, контраст достаточный

---

## Обработка ошибок

### Потеря соединения

- [ ] Отключить интернет
- [ ] Обновить страницу
- [ ] Появляется сообщение об ошибке
- [ ] Видна кнопка "Повторить"
- [ ] Включить интернет
- [ ] Нажать "Повторить"
- [ ] Данные загружаются

---

## Выход из системы

- [ ] Нажать на имя пользователя в правом верхнем углу
- [ ] Нажать "Выйти"
- [ ] Перенаправляет на страницу входа

---

## Итоговый чек-лист

| Раздел | Проверено |
|--------|-----------|
| Вход в систему | ⬜ |
| Главная страница | ⬜ |
| Список пользователей | ⬜ |
| Карточка пользователя | ⬜ |
| Изменение кредитов | ⬜ |
| Сообщения | ⬜ |
| Настройки системы | ⬜ |
| Расходы | ⬜ |
| Состояния пользователей | ⬜ |
| Мобильная версия | ⬜ |
| Смена языка | ⬜ |
| Тёмная тема | ⬜ |
| Обработка ошибок | ⬜ |
| Выход | ⬜ |

**Обозначения**: ⬜ Не проверено | ✅ Работает | ❌ Есть проблема

---

## Если что-то не работает

1. Запишите, на какой странице возникла проблема
2. Опишите, что именно делали
3. Сделайте скриншот
4. Сообщите разработчику
