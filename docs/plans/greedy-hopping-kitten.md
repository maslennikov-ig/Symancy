# –ü–ª–∞–Ω: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–µ–∑–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –ê—Ä–∏–Ω—ã –¥–ª—è —Ç–µ–º—ã "all"

## –ü—Ä–æ–±–ª–µ–º–∞

–ë–æ—Ç –æ–±—Ä–µ–∑–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã –ê—Ä–∏–Ω—ã –Ω–∞ –≥–∞–¥–∞–Ω–∏–∏ –ø–æ –∫–æ—Ñ–µ–π–Ω–æ–π –≥—É—â–µ, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–µ–º—É "all" (–≤—Å–µ 6 —Å—Ñ–µ—Ä –∂–∏–∑–Ω–∏). –¢–µ–∫—Å—Ç –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–æ–ª—É—Å–ª–æ–≤–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–¢–≤" –≤–º–µ—Å—Ç–æ "–¢–≤–æ—è") –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤.

### –ü—Ä–∏–º–µ—Ä –æ–±—Ä–µ–∑–∞–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
```
üåü –î—É—Ö–æ–≤–Ω–æ–µ
–≠—Ç–æ —Å–µ–π—á–∞—Å —Ç–≤–æ—è –≥–ª–∞–≤–Ω–∞—è —Ç–µ–º–∞. –¢–æ—Ç —Å–∞–º—ã–π —Ü–µ–Ω—Ç—Ä ‚Äî —ç—Ç–æ —Ç—ã –∏ —Ç–≤–æ–∏ –º—ã—Å–ª–∏...
–¢–≤ [–û–ë–†–´–í]
```

## –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

**–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –ø—Ä–æ–º–ø—Ç–∞ –∏ –ª–∏–º–∏—Ç–æ–º —Ç–æ–∫–µ–Ω–æ–≤:**

1. **–ü—Ä–æ–º–ø—Ç –ê—Ä–∏–Ω—ã** (`prompts/arina/interpretation.txt` —Å—Ç—Ä–æ–∫–∞ 127-128) —Ç—Ä–µ–±—É–µ—Ç:
   - Single topic: 1500-2500 —Å–∏–º–≤–æ–ª–æ–≤
   - **All topics: 3000-4500 —Å–∏–º–≤–æ–ª–æ–≤** (6 —Å–µ–∫—Ü–∏–π + –≤–≤–µ–¥–µ–Ω–∏–µ + –∑–∞–∫–ª—é—á–µ–Ω–∏–µ)

2. **–ú–æ–¥–µ–ª—å –ê—Ä–∏–Ω—ã** (`src/core/langchain/models.ts` —Å—Ç—Ä–æ–∫–∞ 101) –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å:
   - **max_tokens=1200** (–¥–ª—è –≤—Å–µ—Ö —Ç–µ–º –æ–¥–∏–Ω–∞–∫–æ–≤–æ)

3. **–¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã:**
   - 1200 —Ç–æ–∫–µ–Ω–æ–≤ ‚âà 1200-1600 —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
   - –≠—Ç–æ **–≤–¥–≤–æ–µ –º–µ–Ω—å—à–µ**, —á–µ–º —Ç—Ä–µ–±—É–µ–º—ã–µ 3000-4500 —Å–∏–º–≤–æ–ª–æ–≤!

4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ú–æ–¥–µ–ª—å `xiaomi/mimo-v2-flash` –Ω–∞—á–∏–Ω–∞–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç
   - –î–æ—Å—Ç–∏–≥–∞–µ—Ç –ª–∏–º–∏—Ç–∞ 1200 —Ç–æ–∫–µ–Ω–æ–≤ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —Ç–µ–∫—Å—Ç–∞
   - –û–±—Ä–µ–∑–∞–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –ø–æ–ª—É—Å–ª–æ–≤–µ

## –†–µ—à–µ–Ω–∏–µ

**–ü—Ä–æ—Å—Ç–æ —É–≤–µ–ª–∏—á–∏—Ç—å max_tokens –¥–ª—è –ê—Ä–∏–Ω—ã –¥–æ 3000:**

- –≠—Ç–æ –ø–æ–∫—Ä–æ–µ—Ç –≤—Å–µ —Å–ª—É—á–∞–∏: –∏ single topic, –∏ all topics
- –ú–æ–¥–µ–ª—å —Å–∞–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ —Ç–æ–∫–µ–Ω—ã)
- Single topic: –º–æ–¥–µ–ª—å —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 1500-2500 —Å–∏–º–≤–æ–ª–æ–≤ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è (~1200-2000 —Ç–æ–∫–µ–Ω–æ–≤)
- All topics: –º–æ–¥–µ–ª—å –ø–æ–ª—É—á–∏—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –ø–æ–ª–Ω—ã—Ö 3000-4500 —Å–∏–º–≤–æ–ª–æ–≤ (~2500-3500 —Ç–æ–∫–µ–Ω–æ–≤)

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª

**`symancy-backend/src/core/langchain/models.ts`**
- –§—É–Ω–∫—Ü–∏—è `createArinaModel` (—Å—Ç—Ä–æ–∫–∞ 101)
- –ò–∑–º–µ–Ω–∏—Ç—å default –¥–ª—è `arina_max_tokens` —Å 1200 –Ω–∞ 3000

## –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –®–∞–≥ 1: –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å createArinaModel –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ dynamic maxTokens

**–§–∞–π–ª:** `symancy-backend/src/core/langchain/models.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:**
```typescript
// BEFORE (—Å—Ç—Ä–æ–∫–∞ 98-112):
export async function createArinaModel(options?: ModelOptions): Promise<ChatOpenAI> {
  const modelName = await getConfig("arina_model", MODEL_ARINA);
  const temperature = await getConfig("arina_temperature", 0.9);
  const maxTokens = await getConfig("arina_max_tokens", 1200); // –§–ò–ö–°–ò–†–û–í–ê–ù–ù–û–ï –ó–ù–ê–ß–ï–ù–ò–ï
  const frequencyPenalty = await getConfig("arina_frequency_penalty", 0.6);
  const presencePenalty = await getConfig("arina_presence_penalty", 0.5);

  return createChatOpenAIInstance(modelName, {
    temperature,
    frequencyPenalty,
    presencePenalty,
    maxTokens,
    ...options, // options –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç defaults
  });
}

// AFTER:
export async function createArinaModel(options?: ModelOptions): Promise<ChatOpenAI> {
  const modelName = await getConfig("arina_model", MODEL_ARINA);
  const temperature = await getConfig("arina_temperature", 0.9);
  const defaultMaxTokens = await getConfig("arina_max_tokens", 1200);
  const frequencyPenalty = await getConfig("arina_frequency_penalty", 0.6);
  const presencePenalty = await getConfig("arina_presence_penalty", 0.5);

  return createChatOpenAIInstance(modelName, {
    temperature,
    frequencyPenalty,
    presencePenalty,
    maxTokens: defaultMaxTokens, // default, –Ω–æ options –º–æ–≥—É—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å
    ...options, // options.maxTokens –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç defaultMaxTokens
  });
}
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Å—Ç—Ä–æ–∫–∞ 96), —á—Ç–æ maxTokens –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω —á–µ—Ä–µ–∑ options:
```typescript
* - Max tokens (1200 default) for controlled length (can be overridden via options)
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ maxTokens –ø–æ topic –≤ interpretation.chain.ts

**–§–∞–π–ª:** `symancy-backend/src/chains/interpretation.chain.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ generateInterpretation (–æ–∫–æ–ª–æ —Å—Ç—Ä–æ–∫–∏ 199):**

```typescript
// BEFORE (—Å—Ç—Ä–æ–∫–∞ 190-211):
if (persona === "arina") {
  await loadArinaPrompts();

  if (!arinaSystemPrompt || !arinaInterpretationPrompt) {
    throw new Error("Failed to load Arina prompts");
  }

  systemPrompt = arinaSystemPrompt;
  interpretationPrompt = arinaInterpretationPrompt;
  model = await createArinaModel(); // –ë–ï–ó dynamic maxTokens
} else {
  // Cassandra persona
  await loadCassandraPrompts();

  if (!cassandraSystemPrompt || !cassandraInterpretationPrompt) {
    throw new Error("Failed to load Cassandra prompts");
  }

  systemPrompt = cassandraSystemPrompt;
  interpretationPrompt = cassandraInterpretationPrompt;
  model = await createCassandraModel();
}

// AFTER:
if (persona === "arina") {
  await loadArinaPrompts();

  if (!arinaSystemPrompt || !arinaInterpretationPrompt) {
    throw new Error("Failed to load Arina prompts");
  }

  systemPrompt = arinaSystemPrompt;
  interpretationPrompt = arinaInterpretationPrompt;

  // Dynamic maxTokens based on topic
  // Single topic: 1200-1500 tokens (enough for 1500-2500 chars)
  // All topics: 2500-3000 tokens (enough for 3000-4500 chars)
  const maxTokens = topic === "all" ? 2500 : 1200;

  logger.debug({ topic, maxTokens }, "Creating Arina model with dynamic max_tokens");

  model = await createArinaModel({ maxTokens });
} else {
  // Cassandra persona
  await loadCassandraPrompts();

  if (!cassandraSystemPrompt || !cassandraInterpretationPrompt) {
    throw new Error("Failed to load Cassandra prompts");
  }

  systemPrompt = cassandraSystemPrompt;
  interpretationPrompt = cassandraInterpretationPrompt;
  model = await createCassandraModel();
}
```

**–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ù–∞ —Å—Ç—Ä–æ–∫–µ 219 –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ maxTokens:
```typescript
logger.info({ lensId: lens.id, lensName: lens.name, topic, maxTokens }, "Selected interpretation lens");
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–¥–∞—á—É topic –ø–æ –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–µ

**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**

1. **`symancy-backend/src/modules/photo-analysis/worker.ts`**
   - –°—Ç—Ä–æ–∫–∞ 360: `jobLogger.debug({ persona, topic }, "Generating interpretation");`
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ topic –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∏–∑ jobData –≤ –≤—ã–∑–æ–≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

2. **`symancy-backend/src/modules/photo-analysis/personas/arina.strategy.ts`**
   - –°—Ç—Ä–æ–∫–∞ 116: `const { language = "ru", userName = "–¥–æ—Ä–æ–≥–æ–π –¥—Ä—É–≥", topic = "all" } = options;`
   - –°—Ç—Ä–æ–∫–∞ 124: `topic,` - –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ generateInterpretation
   - –í—Å—ë —É–∂–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–§–∞–π–ª:** `symancy-backend/src/config/constants.ts`

–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è maxTokens (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç):
```typescript
// Arina interpretation tokens
export const ARINA_MAX_TOKENS_SINGLE = 1200; // Single topic
export const ARINA_MAX_TOKENS_ALL = 2500;    // All topics
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ interpretation.chain.ts –≤–º–µ—Å—Ç–æ hardcoded –∑–Ω–∞—á–µ–Ω–∏–π:
```typescript
import { ARINA_MAX_TOKENS_SINGLE, ARINA_MAX_TOKENS_ALL } from "../config/constants.js";

const maxTokens = topic === "all" ? ARINA_MAX_TOKENS_ALL : ARINA_MAX_TOKENS_SINGLE;
```

## –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è (–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:

### 1. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ backend
cd symancy-backend

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å TypeScript
pnpm type-check

# 3. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
pnpm build

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ (–≤ dev —Ä–µ–∂–∏–º–µ)
pnpm dev
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram

–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –∫–æ—Ñ–µ–π–Ω–æ–π –≥—É—â–∏ –±–æ—Ç—É –∏ –≤—ã–±—Ä–∞—Ç—å —Ç–µ–º—É "all":

**–¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –∫–æ—Ñ–µ–π–Ω–æ–π —á–∞—à–∫–∏ –±–æ—Ç—É
2. –í—ã–±—Ä–∞—Ç—å —Ç–µ–º—É: **"–í—Å–µ —Å—Ñ–µ—Ä—ã –∂–∏–∑–Ω–∏"** (topic="all")
3. –î–æ–∂–¥–∞—Ç—å—Å—è –æ—Ç–≤–µ—Ç–∞ –ê—Ä–∏–Ω—ã
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
   - –û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –í–°–ï 6 —Å–µ–∫—Ü–∏–π: ‚ù§Ô∏è –õ—é–±–æ–≤—å, üíº –ö–∞—Ä—å–µ—Ä–∞, üí∞ –§–∏–Ω–∞–Ω—Å—ã, üè• –ó–¥–æ—Ä–æ–≤—å–µ, üë®‚Äçüë©‚Äçüëß –°–µ–º—å—è, üåü –î—É—Ö–æ–≤–Ω–æ–µ
   - –ü–æ—Å–ª–µ–¥–Ω—è—è —Å–µ–∫—Ü–∏—è (üåü –î—É—Ö–æ–≤–Ω–æ–µ) **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞** (–Ω–µ—Ç –æ–±—Ä—ã–≤–∞ –Ω–∞ –ø–æ–ª—É—Å–ª–æ–≤–µ)
   - –ï—Å—Ç—å –∑–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ—Å–ª–µ –≤—Å–µ—Ö —Å–µ–∫—Ü–∏–π
   - –î–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞: –ø—Ä–∏–º–µ—Ä–Ω–æ 3000-4500 —Å–∏–º–≤–æ–ª–æ–≤

**–¢–µ—Å—Ç single topic:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –∫–æ—Ñ–µ–π–Ω–æ–π —á–∞—à–∫–∏ –±–æ—Ç—É
2. –í—ã–±—Ä–∞—Ç—å –æ–¥–Ω—É —Ç–µ–º—É: **"‚ù§Ô∏è –õ—é–±–æ–≤—å"** (topic="love")
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
   - –û—Ç–≤–µ—Ç —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –ª—é–±–≤–∏
   - –î–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞: 1500-2500 —Å–∏–º–≤–æ–ª–æ–≤
   - –û—Ç–≤–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–Ω–µ—Ç –æ–±—Ä—ã–≤–∞)

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∑–∞–ø–∏—Å–µ–π –æ dynamic maxTokens
tail -f symancy-backend/logs/combined.log | grep "dynamic max_tokens"

# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ª–æ–≥:
# {"topic":"all","maxTokens":2500,"msg":"Creating Arina model with dynamic max_tokens"}
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∞–Ω–∞–ª–∏–∑—ã
SELECT
  id,
  created_at,
  interpretation_text,
  LENGTH(interpretation_text) as text_length,
  topic
FROM analysis_history
WHERE persona = 'arina'
  AND topic = 'all'
ORDER BY created_at DESC
LIMIT 5;

-- –î–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è topic="all" –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 3000-4500 —Å–∏–º–≤–æ–ª–æ–≤
```

## –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏

1. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–æ–≤:**
   - –î–æ: 1200 —Ç–æ–∫–µ–Ω–æ–≤ √ó $0.003/1K ‚âà $0.0036 –∑–∞ –∑–∞–ø—Ä–æ—Å
   - –ü–æ—Å–ª–µ: 2500 —Ç–æ–∫–µ–Ω–æ–≤ √ó $0.003/1K ‚âà $0.0075 –∑–∞ –∑–∞–ø—Ä–æ—Å
   - **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞ ~100%** –¥–ª—è —Ç–µ–º—ã "all"
   - –ù–æ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Ç.–∫. "all" ‚Äî —ç—Ç–æ premium-—Ñ—É–Ω–∫—Ü–∏—è (3 –∫—Ä–µ–¥–∏—Ç–∞ –¥–ª—è Cassandra, 1 –¥–ª—è Arina)

2. **–í–æ–∑–º–æ–∂–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ latency:**
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 2500 —Ç–æ–∫–µ–Ω–æ–≤ –≤–º–µ—Å—Ç–æ 1200 –∑–∞–π–º–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏
   - –û—Ü–µ–Ω–∫–∞: +5-10 —Å–µ–∫—É–Ω–¥ –¥–ª—è —Ç–µ–º—ã "all"
   - –≠—Ç–æ –ø—Ä–∏–µ–º–ª–µ–º–æ, —Ç.–∫. –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç

3. **Cassandra —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 1500 —Ç–æ–∫–µ–Ω–æ–≤:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ –Ω—É–∂–Ω–æ –ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å –∏ –¥–ª—è Cassandra (–µ—Å–ª–∏ –æ–Ω–∞ —Ç–æ–∂–µ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è)

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç—Å—è)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –£–º–µ–Ω—å—à–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–∞
- –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–ø—Ç, —á—Ç–æ–±—ã —Ç—Ä–µ–±–æ–≤–∞–ª 1500-2000 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è "all"
- **–ú–∏–Ω—É—Å—ã:** –£—Ö—É–¥—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç –º–µ–Ω—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†–∞–∑–±–∏—Ç—å –æ—Ç–≤–µ—Ç –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é —Å–µ–∫—Ü–∏—é –æ—Ç–¥–µ–ª—å–Ω–æ
- **–ú–∏–Ω—É—Å—ã:** –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, —É–≤–µ–ª–∏—á–µ–Ω–∏–µ latency (6 –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ LLM), —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ 6 —Ä–∞–∑

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å streaming
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç —Å streaming –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —á–∞–Ω–∫–∏
- **–ú–∏–Ω—É—Å—ã:** –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –≤—Å—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤–æ—Ä–∫–µ—Ä–∞

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å maxTokens –Ω–∞ –æ—Å–Ω–æ–≤–µ topic:
- Single topic: 1200 —Ç–æ–∫–µ–Ω–æ–≤
- All topics: 2500 —Ç–æ–∫–µ–Ω–æ–≤

–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–µ, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –±–µ–∑ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

**–ó–∞—Ç—Ä–∞—Ç—ã:**
- –í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: 30-60 –º–∏–Ω—É—Ç
- –ò–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ: ~20 —Å—Ç—Ä–æ–∫
- –§–∞–π–ª–æ–≤ –∑–∞—Ç—Ä–æ–Ω—É—Ç–æ: 2-3

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–ª–Ω—ã–µ, –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–ª—è —Ç–µ–º—ã "all"
- –£–ª—É—á—à–µ–Ω–∏–µ UX
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–º–ø—Ç—É
