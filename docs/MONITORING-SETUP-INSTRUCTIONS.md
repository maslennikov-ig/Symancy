# Задача: настройка мониторинга

**Дата:** 17 февраля 2026
**Статус:** Код готов, нужна конфигурация

---

Код мониторинга написан и задеплоен. Осталось создать аккаунты в двух сервисах и прислать данные для подключения. Настройка на сервере и в GitHub будет выполнена отдельно.

---

## 1. Sentry (отслеживание ошибок)

### Что это
Sentry автоматически ловит ошибки в боте и на сайте, показывает стек вызовов, частоту, затронутых пользователей. Free tier: 5 000 ошибок/месяц — более чем достаточно.

### Что нужно сделать

1. Зайти на https://sentry.io/signup/ и создать аккаунт (можно через GitHub)
2. Создать организацию (например `symancy`)
3. Создать **два проекта**:

| # | Название проекта | Платформа (выбрать при создании) |
|---|------------------|---------------------------------|
| 1 | `symancy-backend` | **Node.js** |
| 2 | `symancy-frontend` | **React** |

4. Для каждого проекта скопировать **DSN** — это строка вида:
```
https://abc123def456@o123456.ingest.us.sentry.io/789012
```

DSN находится: **Settings** -> **Projects** -> выбрать проект -> **Client Keys (DSN)**

### Что прислать

```
Backend DSN:  https://...@....ingest.sentry.io/...
Frontend DSN: https://...@....ingest.sentry.io/...
```

---

## 2. UptimeRobot (мониторинг доступности)

### Что это
UptimeRobot каждые 5 минут проверяет, работает ли сайт и бот. Если что-то упало — приходит уведомление в Telegram. Free tier: 50 мониторов — нужно всего 2.

### Что нужно сделать

1. Зайти на https://uptimerobot.com/signUp и создать аккаунт
2. Подключить Telegram-уведомления:
   - **My Settings** (иконка шестерёнки вверху) -> **Alert Contacts** -> **Add Alert Contact**
   - Тип: **Telegram**
   - Нажать кнопку — откроется Telegram, подтвердить подписку на бота UptimeRobot
3. Создать **два монитора**:

| # | Friendly Name | Type | URL | Interval |
|---|---------------|------|-----|----------|
| 1 | Symancy Web | HTTP(s) | `https://symancy.ru` | 5 min |
| 2 | Symancy Backend | HTTP(s) | `https://symancy.ru/api/health` | 5 min |

4. При создании каждого монитора выбрать Alert Contact = Telegram

### Что прислать

Ничего — UptimeRobot настраивается полностью в их интерфейсе. Достаточно подтвердить, что мониторы созданы.

---

## Итого

```
1. Sentry Backend DSN:   ___________________________________
2. Sentry Frontend DSN:  ___________________________________
3. UptimeRobot настроен: [ ] Да
```

После получения DSN:
- Backend DSN будет прописан на сервере (в .env)
- Frontend DSN будет добавлен в GitHub Secrets (для сборки)
- Будет проведена проверка, что ошибки приходят в Sentry

---

## FAQ

**Q: Сколько стоит?**
A: Оба сервиса бесплатны на используемых тарифах. Sentry Free = 5K ошибок/мес, UptimeRobot Free = 50 мониторов.

**Q: Можно ли использовать один DSN для backend и frontend?**
A: Технически да, но лучше два отдельных проекта — так ошибки не смешиваются и проще анализировать.

**Q: Нужно ли что-то менять в коде?**
A: Нет, код уже готов. Без DSN мониторинг просто отключён (graceful degradation).
