{"id":"sym-0q2","title":"GDPR / 152-ФЗ Compliance","description":"Privacy Policy страница (RU/EN/ZH). Согласие на обработку персональных данных при регистрации. API для экспорта данных пользователя (JSON/CSV). API для удаления данных пользователя по запросу (\u003c72ч). Уведомление Роскомнадзора (если применимо). Оценка: ~20 ч. Файлы: src/pages/, symancy-backend/src/api/, supabase/functions/","status":"open","priority":2,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-17T10:20:34.385838339+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:20:34.385838339+03:00"}
{"id":"sym-157","title":"Переключить YooKassa в боевой режим","description":"## Что сделать\n1. В личном кабинете YooKassa перевести магазин из тестового в боевой режим\n2. Получить боевые credentials (shop_id, secret_key)\n3. Установить секреты в Supabase:\n   ```bash\n   supabase secrets set YUKASSA_SHOP_ID=xxx YUKASSA_SECRET_KEY=xxx\n   ```\n4. Настроить webhook URL в боевом магазине YooKassa:\n   ```\n   https://johspxgvkbrysxhilmbg.supabase.co/functions/v1/payment-webhook\n   ```\n5. Включить события: payment.succeeded, payment.canceled\n\n## Зависимости\n- sym-20s (деплой create-payment)\n- sym-8kh (уточнение налогов)","status":"open","priority":1,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-04T15:58:28.012265753+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-04T15:58:28.012265753+03:00"}
{"id":"sym-1j1","title":"Документация: API Reference, Deployment Guide, User Guide","description":"API Reference (Swagger/OpenAPI) для всех endpoints. Deployment Guide — пошаговая инструкция для VPS. User Guide для заказчика — как пользоваться Admin-панелью. Актуализация docs/ARCHITECTURE.md. Оценка: ~15 ч.","status":"open","priority":3,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-17T10:21:24.827215668+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:21:24.827215668+03:00","dependencies":[{"issue_id":"sym-1j1","depends_on_id":"sym-a4j","type":"blocks","created_at":"2026-02-17T10:21:50.639431246+03:00","created_by":"Igor Maslennikov"},{"issue_id":"sym-1j1","depends_on_id":"sym-7nv","type":"blocks","created_at":"2026-02-17T10:21:50.905493681+03:00","created_by":"Igor Maslennikov"}]}
{"id":"sym-1mw","title":"Дневник настроения: визуализация и графики","description":"Графики трендов настроения (Recharts или Charts.js). Визуализация корреляции настроения и символов. Timeline активности. Оценка: ~12 ч. Файлы: src/components/, src/pages/","status":"open","priority":2,"issue_type":"feature","owner":"your-email@example.com","created_at":"2026-02-17T10:20:14.458524555+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:20:14.458524555+03:00","dependencies":[{"issue_id":"sym-1mw","depends_on_id":"sym-tks","type":"blocks","created_at":"2026-02-17T10:21:48.081329062+03:00","created_by":"Igor Maslennikov"}]}
{"id":"sym-20s","title":"Задеплоить create-payment edge function","description":"## Что сделать\nЗадеплоить обновлённую edge function create-payment с фискальными чеками:\n\n```bash\nsupabase functions deploy create-payment\n```\n\n## Проверка после деплоя\n1. Тестовая оплата картой 2202 4743 0132 2987 (успешная)\n2. В дашборде YooKassa проверить что чек прикреплён к платежу\n3. На email должен прийти фискальный чек\n4. Тестовая оплата картой 2200 0000 0000 0053 (недостаточно средств) — чек НЕ должен генерироваться\n\n## Зависимости\n- sym-dd0 (фискальные чеки) — готово\n- sym-8kh (уточнение налогов) — желательно до продакшна","status":"open","priority":1,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-04T15:58:19.900231957+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-04T15:58:19.900231957+03:00","dependencies":[{"issue_id":"sym-20s","depends_on_id":"sym-157","type":"blocks","created_at":"2026-02-17T10:21:44.522179203+03:00","created_by":"Igor Maslennikov"}]}
{"id":"sym-4mr","title":"Тестирование платежей на продакшне","description":"## Чеклист\nПосле перехода в боевой режим протестировать:\n\n- [ ] Успешная оплата реальной картой (минимальный тариф 100₽)\n- [ ] Фискальный чек приходит на email\n- [ ] Кредиты начисляются на аккаунт\n- [ ] PaymentResult показывает правильный статус\n- [ ] Отмена платежа — причина отображается корректно\n- [ ] 3D Secure — пользователь возвращается и видит результат\n- [ ] Webhook обрабатывается корректно (проверить логи)\n- [ ] Повторный webhook не дублирует кредиты (идемпотентность)\n\n## Зависимости\n- sym-157 (переключение в боевой режим)","status":"open","priority":1,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-04T15:58:43.777929904+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-04T15:58:43.777929904+03:00","dependencies":[{"issue_id":"sym-4mr","depends_on_id":"sym-20s","type":"blocks","created_at":"2026-02-17T10:21:44.808798952+03:00","created_by":"Igor Maslennikov"}]}
{"id":"sym-5cl","title":"Admin-панель: расширенная аналитика и управление","description":"Dashboard: DAU/MAU, конверсии, выручка по периодам. Управление пользователями: просмотр профиля, ручная выдача/списание кредитов. Финансовые метрики: MRR, LTV, расходы на AI API. Управление промокодами (создание, лимиты, статистика). Оценка: ~20 ч. Файлы: src/admin/","status":"open","priority":3,"issue_type":"feature","owner":"your-email@example.com","created_at":"2026-02-17T10:20:50.040263788+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:20:50.040263788+03:00","dependencies":[{"issue_id":"sym-5cl","depends_on_id":"sym-4mr","type":"blocks","created_at":"2026-02-17T10:21:51.175916078+03:00","created_by":"Igor Maslennikov"}]}
{"id":"sym-60n","title":"PaymentResult: авто-определение статуса из БД","description":"## Проблема\nДетализированные сообщения об отмене платежей (sym-m2s) никогда не показывались пользователям. PaymentResult.tsx ожидал параметр status=canceled в URL, но виджет YooKassa его не передаёт.\n\n## Причина\n- PaymentWidget.tsx хардкодит return_url с status=success\n- При 3D Secure редиректе — URL без параметра status → показывается 'unknown'\n- Документация YooKassa подтверждает: события success/fail не работают при наличии return_url\n\n## Решение\n- Авто-определение статуса из БД когда URL-параметр status отсутствует\n- Добавлен pending-статус с поллингом (3с интервал, макс 10 попыток)\n- i18n для pending-статуса (3 языка)\n- 8 новых тестов (всего 42)\n\n## Коммит\n79075b1 → v0.6.15","status":"closed","priority":1,"issue_type":"bug","owner":"your-email@example.com","created_at":"2026-02-04T15:57:43.97552302+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-04T15:57:48.505748361+03:00","closed_at":"2026-02-04T15:57:48.505748361+03:00","close_reason":"Реализовано в v0.6.15. PaymentResult теперь определяет статус из purchases при отсутствии URL-параметра. Pending-поллинг, 42 теста проходят."}
{"id":"sym-65l","title":"Тестирование: E2E основных user stories (Playwright)","description":"E2E тесты основных user stories через Playwright: 1) Регистрация → первый анализ → оплата → повторный анализ. 2) Покупка кредитов через YooKassa. 3) Просмотр истории в Mini App. 4) Авторизация через Telegram Login Widget. Оценка: ~20 ч.","status":"open","priority":2,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-17T10:20:36.524069869+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:20:36.524069869+03:00","dependencies":[{"issue_id":"sym-65l","depends_on_id":"sym-j5n","type":"blocks","created_at":"2026-02-17T10:21:49.647841634+03:00","created_by":"Igor Maslennikov"}]}
{"id":"sym-68j","title":"Add duplicate retopic prevention in handler","description":"Add check in retopic-handler.ts: query analysis_history for covered topics in session_group_id, reject if topicKey already covered. i18n messages for ru/en/zh. Edge case from code review.","status":"closed","priority":2,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-17T17:33:38.406804224+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T17:34:36.184692684+03:00","closed_at":"2026-02-17T17:34:36.184692684+03:00","close_reason":"Added covered topic check with DB query + i18n messages (ru/en/zh)"}
{"id":"sym-7nv","title":"Telegram Stars: нативные платежи","description":"Интеграция Telegram Payments API (Stars). Обработка pre_checkout_query и successful_payment. Маппинг цен в Stars (конвертация рублей). Начисление кредитов после оплаты Stars. Оценка: ~17 ч. Файлы: symancy-backend/src/modules/","status":"open","priority":0,"issue_type":"feature","owner":"your-email@example.com","created_at":"2026-02-17T10:19:52.337793921+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:19:52.337793921+03:00","dependencies":[{"issue_id":"sym-7nv","depends_on_id":"sym-4mr","type":"blocks","created_at":"2026-02-17T10:21:45.36435454+03:00","created_by":"Igor Maslennikov"}]}
{"id":"sym-86t","title":"Admin Dashboard: виджет здоровья системы","description":"Новый компонент SystemHealthWidget.tsx (fetch /health, статус db/queue/webhook, uptime). Добавить на DashboardPage + stat-карточку ошибок за 24ч. i18n ключи для 3 локалей. Подзадача sym-l4e.","status":"closed","priority":2,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-17T11:39:22.39427197+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T11:48:23.232963567+03:00","closed_at":"2026-02-17T11:48:23.232963567+03:00","close_reason":"SystemHealthWidget создан, DashboardPage расширена (ошибки 24ч + виджет здоровья), i18n ключи в 3 локалях, type-check пройден"}
{"id":"sym-8kh","title":"Уточнить систему налогообложения с бухгалтером","description":"## Что нужно\nУточнить у бухгалтера:\n1. Система налогообложения (УСН доходы / УСН доходы-расходы / ОСН / другая)\n2. Ставка НДС (Без НДС / НДС 20% / другая)\n\n## Где менять\nsupabase/functions/create-payment/index.ts:\n- RECEIPT_TAX_SYSTEM_CODE (сейчас 2 = УСН доходы)\n- RECEIPT_VAT_CODE (сейчас 1 = Без НДС)\n\n## Контекст\nПараметры влияют на фискальные чеки (54-ФЗ), отправляемые через YooKassa.","status":"open","priority":2,"issue_type":"chore","owner":"your-email@example.com","created_at":"2026-02-04T15:58:11.113733064+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-04T15:58:11.113733064+03:00"}
{"id":"sym-9gy","title":"Trial период для новых пользователей","description":"При регистрации: начисление бонусных кредитов (эквивалент 7-дневного доступа к PRO). Уведомление об окончании trial. Предложение купить кредиты после окончания trial. Оценка: ~15 ч. Файлы: symancy-backend/src/modules/onboarding/, symancy-backend/src/modules/credits/","status":"open","priority":1,"issue_type":"feature","owner":"your-email@example.com","created_at":"2026-02-17T10:19:53.30767123+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:19:53.30767123+03:00","dependencies":[{"issue_id":"sym-9gy","depends_on_id":"sym-a4j","type":"blocks","created_at":"2026-02-17T10:21:46.377156729+03:00","created_by":"Igor Maslennikov"},{"issue_id":"sym-9gy","depends_on_id":"sym-7nv","type":"blocks","created_at":"2026-02-17T10:21:46.655018242+03:00","created_by":"Igor Maslennikov"}]}
{"id":"sym-9rk","title":"DeepTech Strategy: CV Pipeline для Astana Hub","description":"Разработка собственного Computer Vision Pipeline для квалификации проекта как DeepTech в Astana Hub.\n\nСТАТУС: Ожидаем ответы от Astana Hub (5 вопросов в секции 2 плана).\n\nПЛАН: docs/plans/silly-tickling-music.md\n\nКЛЮЧЕВЫЕ ВОПРОСЫ ДЛЯ ASTANA HUB:\n1. Технические критерии DeepTech (собственные алгоритмы vs обучение ML-моделей?)\n2. Формат технической экспертизы (презентация, демо, ревью кода?)\n3. Примеры CV/AI проектов среди участников хаба\n4. Приоритет: глубина технологии vs бизнес-модель?\n5. Допустимость внешних API (OpenAI, Google) с собственной обработкой\n\nСЛЕДУЮЩИЕ ШАГИ:\n- Получить ответы от Astana Hub\n- Финализировать план реализации на основе ответов\n- Реализовать CV Pipeline (MVP ~1-2 недели)\n- Подготовить демо-визуализацию\n- Подготовить техдокументацию для ревью\n\nПОДХОД: Custom CV Pipeline (preprocessing → segmentation → zone detection → density map → texture analysis → flow direction → feature vector → LLM enrichment)\nРЕКОМЕНДАЦИЯ: Python microservice (OpenCV + FastAPI)","notes":"ОБНОВЛЕНО 2026-02-05:\n\n✅ Получены ответы от Astana Hub:\n- DeepTech: нужен собственный CV-слой, внешние API допустимы\n- Оценивают R\u0026D составляющую\n\n⚠️ КРИТИЧНО от AFSA:\n- Требуют Explainable AI (против чёрного ящика)\n- Каждый вывод LLM должен быть привязан к CV-данным\n- Нужна трассируемость и воспроизводимость\n\n⏳ ОЖИДАЕМ:\n1. Ответы AFSA на уточняющие вопросы (формат XAI, стандарты)\n2. Deep Research по XAI-паттернам (промпт готов в плане)\n\nПЛАН: docs/plans/silly-tickling-music.md","status":"open","priority":2,"issue_type":"epic","owner":"your-email@example.com","created_at":"2026-02-04T16:34:06.675207742+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-05T14:25:36.600274767+03:00"}
{"id":"sym-a4j","title":"YooKassa: интеграция платежей в Telegram Bot","description":"Генерация payment links из бота через YooKassa API. Inline-кнопка 'Купить кредиты' в боте. Обработка webhook с результатом оплаты. Начисление кредитов после успешной оплаты. СБП доступен автоматически через YooKassa. Оценка: ~25 ч. Файлы: symancy-backend/src/modules/, supabase/functions/","status":"open","priority":0,"issue_type":"feature","owner":"your-email@example.com","created_at":"2026-02-17T10:19:51.120583295+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:19:51.120583295+03:00","dependencies":[{"issue_id":"sym-a4j","depends_on_id":"sym-4mr","type":"blocks","created_at":"2026-02-17T10:21:45.080217472+03:00","created_by":"Igor Maslennikov"}]}
{"id":"sym-al7","title":"Этап 4: Compliance и качество","description":"Эпик: GDPR/152-ФЗ compliance, тестирование (unit, integration, E2E). Юридические и качественные требования.","status":"open","priority":2,"issue_type":"epic","owner":"your-email@example.com","created_at":"2026-02-17T10:19:26.424981238+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:19:26.424981238+03:00"}
{"id":"sym-boy","title":"Fix truncated 'all' topic readings","description":"Arina model hits max_tokens=3000 limit on full 'all' topic readings (6 sections), causing text to be cut off mid-sentence. Fix: 1) Increase maxTokens for 'all' readings to 5000. 2) Add finish_reason check in interpretation chain to detect and handle truncation.","status":"closed","priority":1,"issue_type":"bug","owner":"your-email@example.com","created_at":"2026-02-17T13:53:37.845932959+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T14:28:15.84023721+03:00","closed_at":"2026-02-17T14:28:15.84023721+03:00","close_reason":"Fixed: 1) Added topic-dependent maxTokens (5000 for 'all' vs default 3000). 2) Added finish_reason truncation detection with continuation requests. 3) Fixed missing TOPIC_FOCUS in re-roll path. 4) Changed MODEL_ARINA from xiaomi/mimo-v2-flash to qwen/qwen3.5-plus-02-15."}
{"id":"sym-btv","title":"Security hardening","description":"CORS настройка для production domains. CSP заголовки на frontend. Security audit по OWASP top 10. Ротация API ключей (OpenRouter, Supabase, YooKassa). Оценка: ~10 ч.","status":"open","priority":3,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-17T10:20:51.933646695+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:20:51.933646695+03:00"}
{"id":"sym-c5v","title":"Этап 3: Advanced функции","description":"Эпик: RAG-система, дневник настроения, ежедневный AI-анализ. Конкурентные преимущества по ТЗ (Блок 3).","status":"open","priority":2,"issue_type":"epic","owner":"your-email@example.com","created_at":"2026-02-17T10:19:24.817471601+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:19:24.817471601+03:00"}
{"id":"sym-d6d","title":"Прописать Sentry DSN на сервере и в GitHub Secrets","description":"После получения DSN от ответственного за настройку:\n1. Прописать Backend DSN в /var/www/symancy-backend/shared/.env (SENTRY_DSN=...)\n2. Перезапустить PM2 (sudo -u deploy pm2 restart symancy-backend --update-env)\n3. Добавить VITE_SENTRY_DSN в GitHub Secrets\n4. Запустить деплой фронтенда для применения\n5. Проверить, что ошибки приходят в Sentry (тестовый запрос)\n6. Подтвердить, что UptimeRobot мониторы созданы\n\nИнструкция для ответственного: docs/MONITORING-SETUP-INSTRUCTIONS.md","status":"open","priority":1,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-17T13:48:19.71168631+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T13:48:19.71168631+03:00"}
{"id":"sym-dd0","title":"Фискальные чеки 54-ФЗ в YooKassa","description":"## Проблема\ncreate-payment edge function создаёт платежи без поля receipt. По закону 54-ФЗ каждый онлайн-платёж обязан генерировать фискальный чек. Блокирует запуск в продакшн.\n\n## Решение\nДобавлено поле receipt в payload YooKassa (inline-подход). YooKassa автоматически генерирует чек при успешной оплате.\n\n- customer.email — из JWT (user.email)\n- items[].description — название тарифа\n- payment_mode: full_payment, payment_subject: service\n- tax_system_code: 2 (УСН доходы) — вынесено в константу\n- vat_code: 1 (Без НДС) — вынесено в константу\n\n## Файл\nsupabase/functions/create-payment/index.ts","status":"closed","priority":1,"issue_type":"feature","owner":"your-email@example.com","created_at":"2026-02-04T15:57:57.991374459+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-04T15:58:03.376042666+03:00","closed_at":"2026-02-04T15:58:03.376042666+03:00","close_reason":"Реализовано. Поле receipt добавлено в create-payment/index.ts с inline-чеком YooKassa. Налоговые параметры вынесены в константы (RECEIPT_TAX_SYSTEM_CODE, RECEIPT_VAT_CODE). Ожидает деплой и подтверждение бухгалтера."}
{"id":"sym-j5n","title":"Тестирование: unit + integration критических потоков","description":"Unit тесты на критические потоки: платежи (YooKassa webhooks), кредиты (начисление/списание), авторизация (Telegram Login). Integration тесты: API endpoints, webhook handlers, credit operations. Целевое покрытие: ~50% для критических модулей. Оценка: ~25 ч. Файлы: symancy-backend/tests/, src/**/*.test.ts","status":"open","priority":2,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-17T10:20:35.452210892+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:20:35.452210892+03:00","dependencies":[{"issue_id":"sym-j5n","depends_on_id":"sym-a4j","type":"blocks","created_at":"2026-02-17T10:21:49.346702105+03:00","created_by":"Igor Maslennikov"}]}
{"id":"sym-l4e","title":"Базовый мониторинг и алерты","description":"Uptime-мониторинг (UptimeRobot или аналог) для бота и web. Алерты в Telegram при падении сервисов. Sentry для отслеживания ошибок (frontend + backend). Базовые метрики в Admin-панели (DAU, платежи, ошибки). Оценка: ~15 ч.","status":"closed","priority":1,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-17T10:19:54.447756784+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T12:27:09.491871806+03:00","closed_at":"2026-02-17T12:27:09.491871806+03:00","close_reason":"Sentry (backend+frontend), SystemHealthWidget в admin-панели, ADMIN_CHAT_ID=166848328 настроен на сервере, i18n 3 локали, type-check пройден"}
{"id":"sym-lac","title":"Sentry: интеграция в backend (Node.js)","description":"Установить @sentry/node, создать core/sentry.ts, добавить SENTRY_DSN в env schema, инициализировать в app.ts, интегрировать с logger.ts и admin-alerts.ts. Подзадача sym-l4e.","status":"closed","priority":1,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-17T11:39:20.087569772+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T11:43:16.910841918+03:00","closed_at":"2026-02-17T11:43:16.910841918+03:00","close_reason":"@sentry/node установлен, core/sentry.ts создан, интеграция с app.ts/logger.ts/admin-alerts.ts выполнена, type-check пройден"}
{"id":"sym-m2s","title":"Детализированные сообщения об отмене платежей","description":"## Описание\nДобавлены детализированные причины отмены платежей YooKassa. 12 причин отмены с переводами на 3 языка (ru, en, zh).\n\n## Реализация\n- Типы CancellationReason и CancellationParty в src/types/payment.ts\n- Маппинг причин на i18n-ключи в src/constants/payment.ts\n- Миграции: cancellation_reason и cancellation_party в таблице purchases\n- Обработка в payment-webhook edge function\n- Компонент PaymentCancellationStats для админ-панели\n- 61 тест\n\n## Коммит\ndf21207 feat(payments): add detailed cancellation reason messages","status":"closed","priority":2,"issue_type":"feature","owner":"your-email@example.com","created_at":"2026-02-04T15:57:28.173791014+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-04T15:57:33.492697116+03:00","closed_at":"2026-02-04T15:57:33.492697116+03:00","close_reason":"Реализовано в коммите df21207. 12 причин отмены YooKassa с i18n (3 языка), миграции БД, webhook handler, админ-панель, 61 тест."}
{"id":"sym-mev","title":"Retopic: Try Another Topic feature","description":"After single-topic reading, offer inline keyboard to read another topic from same cup. Reuses cached vision_result. See plan: docs/plans/gleaming-swinging-wozniak.md","status":"closed","priority":1,"issue_type":"feature","owner":"your-email@example.com","created_at":"2026-02-17T15:15:41.874731118+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T15:23:13.909435054+03:00","closed_at":"2026-02-17T15:23:13.909435054+03:00","close_reason":"Retopic feature implemented: handler, worker, keyboards, queue, router, app wiring. DB migration applied. TypeScript + 508 tests pass."}
{"id":"sym-mvb","title":"Ежедневный AI-анализ и рекомендации","description":"Агрегация всех событий пользователя за день. AI-суммаризация: генерация дневного отчёта (200-300 слов). Персональные рекомендации на завтра. Push-уведомления с дневным инсайтом. Engagement triggers частично реализованы. Оценка: ~30 ч. Файлы: symancy-backend/src/modules/engagement/, symancy-backend/src/services/","status":"open","priority":2,"issue_type":"feature","owner":"your-email@example.com","created_at":"2026-02-17T10:20:32.868465219+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:20:32.868465219+03:00","dependencies":[{"issue_id":"sym-mvb","depends_on_id":"sym-ubw","type":"blocks","created_at":"2026-02-17T10:21:48.351244703+03:00","created_by":"Igor Maslennikov"}]}
{"id":"sym-n28","title":"Этап 5: Финализация","description":"Эпик: Расширение admin-панели, документация, security hardening. Завершающие работы перед сдачей проекта.","status":"open","priority":3,"issue_type":"epic","owner":"your-email@example.com","created_at":"2026-02-17T10:19:27.405772067+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:19:27.405772067+03:00"}
{"id":"sym-p4i","title":"Этап 2: Retention и монетизация","description":"Эпик: Trial период для новых пользователей + базовый мониторинг. Зависит от запуска платежей (Этап 1).","status":"open","priority":1,"issue_type":"epic","owner":"your-email@example.com","created_at":"2026-02-17T10:19:23.84727114+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:19:23.84727114+03:00"}
{"id":"sym-pc2","title":"Этап 1: Запуск платежей","description":"Эпик: Все платежные системы работают в боевом режиме — YooKassa (web + Telegram bot), Telegram Stars. Блокирует монетизацию и запуск.","status":"open","priority":0,"issue_type":"epic","owner":"your-email@example.com","created_at":"2026-02-17T10:19:05.640284355+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:19:05.640284355+03:00"}
{"id":"sym-tks","title":"Дневник настроения: UI и бэкенд","description":"UI ввода настроения в Mini App (шкала 1-10, выбор эмоций, календарь). Команда /mood в Telegram боте. Хранение записей в PostgreSQL. Корреляция настроения с результатами анализов. Оценка: ~25 ч. Файлы: src/components/, src/pages/, symancy-backend/src/modules/","status":"open","priority":2,"issue_type":"feature","owner":"your-email@example.com","created_at":"2026-02-17T10:20:12.725889189+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:20:12.725889189+03:00"}
{"id":"sym-u31","title":"Write unit tests for retopic keyboards and schemas","description":"Create tests/unit/modules/retopic-keyboards.test.ts covering: parseRetopicCallback (valid/invalid inputs, wrong format, invalid topic, invalid UUID, extra colons), createRetopicKeyboard (all topics available, some covered, all covered returns null, language variants), RetopicJobSchema validation (valid data, invalid topic 'all', missing fields). Follow existing test patterns from tests/unit/utils/message-splitter.test.ts.","status":"closed","priority":2,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-17T17:33:45.803433269+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T17:42:11.669341327+03:00","closed_at":"2026-02-17T17:42:11.669341327+03:00","close_reason":"50 unit tests created and passing: parseRetopicCallback, createRetopicKeyboard, RetopicJobSchema"}
{"id":"sym-ubw","title":"RAG: наполнение векторной БД паттернами","description":"Наполнение pgvector базы 500+ паттернов символов кофейной гущи. Embeddings pipeline для автоматической индексации. Фундамент для RAG уже есть: BGE embeddings client, memory service. Оценка: ~20 ч. Файлы: symancy-backend/src/core/embeddings/, symancy-backend/src/services/memory.service.ts","status":"open","priority":2,"issue_type":"feature","owner":"your-email@example.com","created_at":"2026-02-17T10:20:10.265624265+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:20:10.265624265+03:00"}
{"id":"sym-uw5","title":"RAG: similarity search и feedback loop","description":"Similarity search — поиск похожих случаев при анализе кофейной гущи. Feedback loop — сбор оценок пользователей (лайк/дизлайк) и дообучение. Интеграция результатов RAG в промпты Арины. Оценка: ~30 ч. Файлы: symancy-backend/src/services/memory.service.ts, symancy-backend/src/modules/photo-analysis/","status":"open","priority":2,"issue_type":"feature","owner":"your-email@example.com","created_at":"2026-02-17T10:20:11.516954084+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T10:20:11.516954084+03:00","dependencies":[{"issue_id":"sym-uw5","depends_on_id":"sym-ubw","type":"blocks","created_at":"2026-02-17T10:21:47.804106867+03:00","created_by":"Igor Maslennikov"}]}
{"id":"sym-w54","title":"Sentry: интеграция во frontend (React)","description":"Установить @sentry/react, создать src/lib/sentry.ts, обновить main.tsx, подключить ErrorBoundary, добавить VITE_SENTRY_DSN в vite-env.d.ts и deploy.yml. Подзадача sym-l4e.","status":"closed","priority":1,"issue_type":"task","owner":"your-email@example.com","created_at":"2026-02-17T11:39:21.192433646+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T11:43:17.188856629+03:00","closed_at":"2026-02-17T11:43:17.188856629+03:00","close_reason":"@sentry/react установлен, src/lib/sentry.ts создан, main.tsx/ErrorBoundary/vite-env.d.ts/deploy.yml обновлены, type-check пройден"}
{"id":"sym-zrq","title":"Fix retopic code review issues CR-001..CR-012","description":"Fix all critical, high and medium issues from code-review-retopic.md: persona loading msg, double-click race, security logging, inline keyboard, messageId 0, i18n, schema dedup, vision validation, credit check order, callback parsing","status":"closed","priority":1,"issue_type":"bug","owner":"your-email@example.com","created_at":"2026-02-17T17:13:04.10671319+03:00","created_by":"Igor Maslennikov","updated_at":"2026-02-17T17:21:47.06782858+03:00","closed_at":"2026-02-17T17:21:47.06782858+03:00","close_reason":"All 12 code review issues (CR-001..CR-012) fixed, tsc and vitest pass"}
